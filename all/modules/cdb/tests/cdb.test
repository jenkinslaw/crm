<?php
/**
 * @file
 * Basic functional and Unit testing for Customer Database Application.
 */

class CdbTestCase extends DrupalWebTestCase {

  function setUp() {
    // Enabled cdb module.
    parent::setUp('cdb');
  }


  /**
   *  Initialize.
   */
  public static function getInfo() {
    return array(
      'name' => 'Customer Detabase Default Tests.',
      'description' => 'Some test for our Customer Database Web app',
      'group' => 'Jenkins',
    );
  }


  /**
   * Test that certain default modules are enabled on our system.
   */
  public function testCheckEnabledModules() {

    // Test that our dependencies are enabled.
    $this->assertTrue(module_exists('cdb'), "The cdb module is enabled.");
    $this->assertTrue(module_exists('views'), "The Views module is enabled.");
    $this->assertTrue(module_exists('features'), "The Features  module is enabled.");
    $this->assertTrue(module_exists('entity'), "The Entity_API module is enabled.");
    $this->assertTrue(module_exists('panalizer'), "The Panelizer module is enabled.");

    // Tests our custom module are enabled.
    $this->assertTrue(module_exists('company'), "The company feature exists.");
    $this->assertTrue(module_exists('person'), "The person features exists.");
  }

  public function testSiteName() {
    $expected = "Jenkins Law Library Customer Database";
    $actual = variable_get('site_name');
    $this->assertEqual($actual, $expected, "The site name is : $expected.");
  }


}
